import{_ as T}from"./index-ed788ec2.js";import{e as A,a6 as E,r as y,l as o,aC as G,M as b,o as M,h as l,ay as O,i as d,j as m,w as s,a7 as i,ak as _,a8 as g,u as a,af as R,a3 as W,ad as H,a5 as J,aa as K,ab as Q,az as X,a4 as Y,at as k,ah as Z}from"./vue-cc42d2bc.js";import{B as ee,_ as te}from"./index-3da832da.js";import{e as oe}from"./user-053075e3.js";import{b as z}from"./route-block-83d24a4e.js";import"./axios-4fe91515.js";const ae=c=>(K("data-v-e0921ef9"),c=c(),Q(),c),re={class:"flex-1 el-card border-none flex-col box-border overflow-hidden"},ne={class:"h-50px pl-12px pr-12px box-border flex items-center justify-between bd-title"},le={class:"bd-title-left"},se={class:"m-0 font-600"},ie={class:"flex items-center h-50px"},pe={class:"flex-1 overflow-hidden p-12px"},de={class:"bd-card-footer pl-12px pr-12px mb-12px flex items-center justify-between"},_e=ae(()=>i("div",null,null,-1)),C=A({__name:"userblacklist",setup(c){const S=E(),B=y([{prop:"name",label:"好友昵称",width:140},{prop:"uid",label:"好友ID",width:320},{prop:"avatar",label:"好友头像",align:"center",width:100,render:t=>{let n="";return t.row.uid&&(n=`${ee.APP_URL}users/${t.row.uid}/avatar`),o(G,{src:n,size:54},{default:()=>[t.row.name]})}},{prop:"create_at",label:"拉入黑名单时间",width:170},{prop:"remark",label:"备注",minWidth:260}]),h=b([]),f=b(!1),x=b(0),r=y({keyword:"",uid:S.query.uid,page_size:15,page_index:1}),u=()=>{f.value=!0,oe(r).then(t=>{f.value=!1,h.value=t,x.value=t.length})},D=t=>{r.page_size=t,u()},V=t=>{r.page_index=t,u()};return M(()=>{u()}),(t,n)=>{const I=l("el-text"),U=l("el-input"),w=l("el-form-item"),N=l("el-button"),$=l("el-form"),j=l("i-bd-setting"),v=l("el-table-column"),P=l("el-table"),q=l("el-pagination"),F=T,L=O("loading");return d(),m(F,{class:"flex-col"},{default:s(()=>[i("div",re,[i("div",ne,[i("div",le,[i("p",se,[o(I,{type:"primary"},{default:s(()=>[_(g(t.$route.query.name),1)]),_:1}),_(" 的黑名单 ")])]),i("div",ie,[o($,{inline:""},{default:s(()=>[o(w,{class:"mb-0 !mr-16px"},{default:s(()=>[o(U,{modelValue:a(r).keyword,"onUpdate:modelValue":n[0]||(n[0]=e=>a(r).keyword=e),placeholder:"好友昵称/uid",clearable:""},null,8,["modelValue"])]),_:1}),o(w,{class:"mb-0 !mr-0"},{default:s(()=>[o(N,{type:"primary",onClick:u},{default:s(()=>[_("查询")]),_:1})]),_:1})]),_:1})])]),i("div",pe,[R((d(),m(P,{data:a(h),border:!0,style:{width:"100%",height:"100%"}},{default:s(()=>[o(v,{type:"index",width:42,align:"center",fixed:"left"},{header:s(()=>[o(j,{class:"cursor-pointer",size:"16"})]),_:1}),(d(!0),W(J,null,H(a(B),e=>(d(),m(v,X(e,{key:e.prop}),{default:s(p=>[e.render?(d(),m(Y(e.render),{key:0,row:p.row},null,8,["row"])):e.formatter?k(t.$slots,e.prop,{key:1,row:p.row},()=>[_(g(e.formatter(p.row)),1)],!0):e.prop?k(t.$slots,e.prop,{key:2,row:p.row},()=>[_(g(p.row[e.prop]),1)],!0):Z("",!0)]),_:2},1040))),128))]),_:3},8,["data"])),[[L,a(f)]])]),i("div",de,[_e,o(q,{"current-page":a(r).page_index,"onUpdate:currentPage":n[1]||(n[1]=e=>a(r).page_index=e),"page-size":a(r).page_size,"onUpdate:pageSize":n[2]||(n[2]=e=>a(r).page_size=e),"page-sizes":[15,20,30,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:a(x),onSizeChange:D,onCurrentChange:V},null,8,["current-page","page-size","total"])])])]),_:3})}}});typeof z=="function"&&z(C);const he=te(C,[["__scopeId","data-v-e0921ef9"]]);export{he as default};
