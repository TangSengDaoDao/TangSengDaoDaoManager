import{m as V}from"./message-a13469e4.js";import{e as m,M as p,U as k,h as s,i as B,j as b,w as d,a7 as n,l as r,ak as i,a8 as u,E as c}from"./vue-cc42d2bc.js";const D={class:"mb-20px"},S=m({name:"BdSandMsg"}),T=m({...S,props:{value:{type:Boolean,default:!1},receivederChannelType:{default:1},receiveder:{default:""},receivederName:{default:""},sender:{default:""},senderName:{default:""}},emits:["update:value"],setup(f,{emit:_}){const l=f,t=p(""),o=p(!1);k(()=>l.value,(e,a)=>{console.log(l.value),l.value=e});const g=()=>{_("update:value",!1)},h=()=>{if(!t.value)return c.info("请输入发送内容！");const e={sender:l.sender,sender_name:l.senderName,received_channel_id:l.receiveder,received_channel_type:l.receivederChannelType,content:t.value};o.value=!0,V(e).then(a=>{o.value=!1,a.status==200&&(c.success("发送成功！"),t.value="")}).catch(a=>{o.value=!1,a.status==400&&c.error(a.msg)})};return(e,a)=>{const v=s("el-divider"),y=s("el-input"),N=s("el-button"),C=s("el-dialog");return B(),b(C,{"model-value":e.value,width:600,"align-center":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,draggable:!0,"z-index":99,title:"发送信息",onClose:g},{default:d(()=>[n("div",D,[r(v,{"content-position":"left"},{default:d(()=>[i("接受者信息")]),_:1}),n("div",null,"接受者ID："+u(e.receiveder),1),n("div",null,"接受者名称："+u(e.receivederName),1),r(v,{"content-position":"left"},{default:d(()=>[i("发送者信息")]),_:1}),n("div",null,"发送者ID："+u(e.sender),1),n("div",null,"发送者名字："+u(e.senderName),1)]),n("div",null,[r(y,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=w=>t.value=w),rows:6,type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),r(N,{type:"primary",size:"large",loading:o.value,class:"m-t-20px !w-full",onClick:h},{default:d(()=>[i("发送")]),_:1},8,["loading"])]),_:1},8,["model-value"])}}});export{T as _};
