import{_ as F}from"./index-ed788ec2.js";import{B as O,_ as A}from"./index-3da832da.js";import{c as G,e as q}from"./group-1872a9ab.js";import{e as R,r as k,l as a,aC as H,av as C,ak as f,aw as J,M as x,ax as K,E as h,o as Q,h as p,ay as W,i as _,j as m,w as s,a7 as l,u as n,af as X,a3 as Y,ad as Z,a5 as ee,aa as te,ab as oe,az as ae,a4 as ne,at as z,a8 as B,ah as re}from"./vue-cc42d2bc.js";import{b as S}from"./route-block-83d24a4e.js";import"./axios-4fe91515.js";const E=u=>(te("data-v-5628c483"),u=u(),oe(),u),se={class:"flex-1 el-card border-none flex-col box-border overflow-hidden"},le={class:"h-50px pl-12px pr-12px box-border flex items-center justify-between bd-title"},pe=E(()=>l("div",{class:"bd-title-left"},[l("p",{class:"m-0 font-600"},"封禁群列表")],-1)),ie={class:"flex items-center h-50px"},ce={class:"flex-1 overflow-hidden p-12px"},de={class:"bd-card-footer pl-12px pr-12px mb-12px flex items-center justify-between"},_e=E(()=>l("div",null,null,-1)),$=R({__name:"groupdisablelist",setup(u){const D=k([{prop:"name",label:"群名称"},{prop:"group_no",label:"群编号"},{prop:"avatar",label:"群头像",align:"center",width:100,render:e=>{let o="";return e.row.group_no&&(o=`${O.APP_URL}groups/${e.row.group_no}/avatar`),a(H,{src:o,size:54},{default:()=>[e.row.name]})}},{prop:"member_count",label:"群人数"},{prop:"create_name",label:"群主名称"},{prop:"create_at",label:"创建时间"},{prop:"operation",label:"操作",align:"center",fixed:"right",width:120,render:e=>a(J,null,{default:()=>[a(C,{type:"primary",onClick:()=>N(e.row)},{default:()=>[f("解禁")]})]})}]),w=x([]),g=x(!1),v=x(0),r=k({keyword:"",page_size:15,page_index:1}),c=()=>{g.value=!0,q(r).then(e=>{g.value=!1,w.value=e.list,v.value=e.count})},V=e=>{r.page_size=e,c()},L=e=>{r.page_index=e,c()},N=e=>{const o=e.status==1?"封禁":"解禁";K.confirm(`确定要对群组${e.name}${o}吗?`,`${o}群组`,{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,type:"warning"}).then(()=>{const b={groupNo:e.group_no,status:e.status==1?0:1};G(b).then(i=>{c(),h({type:"success",message:`${o}群组成功！`})}).catch(i=>{i.status==400&&h.error(i.msg)})}).catch(()=>{h({type:"info",message:"取消成功！"})})};return Q(()=>{c()}),(e,o)=>{const b=p("el-input"),i=p("el-form-item"),U=p("el-form"),I=p("i-bd-setting"),y=p("el-table-column"),M=p("el-table"),P=p("el-pagination"),T=F,j=W("loading");return _(),m(T,{class:"flex-col"},{default:s(()=>[l("div",se,[l("div",le,[pe,l("div",ie,[a(U,{inline:""},{default:s(()=>[a(i,{class:"mb-0 !mr-16px"},{default:s(()=>[a(b,{modelValue:n(r).keyword,"onUpdate:modelValue":o[0]||(o[0]=t=>n(r).keyword=t),placeholder:"群名称/群编号",clearable:""},null,8,["modelValue"])]),_:1}),a(i,{class:"mb-0 !mr-0"},{default:s(()=>[a(n(C),{type:"primary",onClick:c},{default:s(()=>[f("查询")]),_:1})]),_:1})]),_:1})])]),l("div",ce,[X((_(),m(M,{data:n(w),border:!0,style:{width:"100%",height:"100%"}},{default:s(()=>[a(y,{type:"index",width:42,align:"center",fixed:"left"},{header:s(()=>[a(I,{class:"cursor-pointer",size:"16"})]),_:1}),(_(!0),Y(ee,null,Z(n(D),t=>(_(),m(y,ae(t,{key:t.prop}),{default:s(d=>[t.render?(_(),m(ne(t.render),{key:0,row:d.row},null,8,["row"])):t.formatter?z(e.$slots,t.prop,{key:1,row:d.row},()=>[f(B(t.formatter(d.row)),1)],!0):t.prop?z(e.$slots,t.prop,{key:2,row:d.row},()=>[f(B(d.row[t.prop]),1)],!0):re("",!0)]),_:2},1040))),128))]),_:3},8,["data"])),[[j,n(g)]])]),l("div",de,[_e,a(P,{"current-page":n(r).page_index,"onUpdate:currentPage":o[1]||(o[1]=t=>n(r).page_index=t),"page-size":n(r).page_size,"onUpdate:pageSize":o[2]||(o[2]=t=>n(r).page_size=t),"page-sizes":[15,20,30,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:n(v),onSizeChange:V,onCurrentChange:L},null,8,["current-page","page-size","total"])])])]),_:3})}}});typeof S=="function"&&S($);const he=A($,[["__scopeId","data-v-5628c483"]]);export{he as default};
