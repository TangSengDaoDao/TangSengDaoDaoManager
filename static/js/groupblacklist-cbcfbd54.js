import{_ as E}from"./index-ed788ec2.js";import{e as F,a6 as G,r as k,l as a,aC as L,aG as z,M as b,o as A,h as i,ay as M,i as u,j as m,w as l,a7 as p,ak as c,a8 as x,u as r,af as R,a3 as K,ad as H,a5 as J,aK as Q,aa as W,ab as X,az as Y,a4 as Z,at as C,ah as ee}from"./vue-cc42d2bc.js";import{B as te,_ as oe}from"./index-3da832da.js";import{f as ae}from"./group-1872a9ab.js";import{b as S}from"./route-block-83d24a4e.js";import"./axios-4fe91515.js";const re=s=>(W("data-v-d44df090"),s=s(),X(),s),ne={class:"flex-1 el-card border-none flex-col box-border overflow-hidden"},le={class:"h-50px pl-12px pr-12px box-border flex items-center justify-between bd-title"},se={class:"bd-title-left"},ie={class:"m-0 font-600"},pe={class:"flex items-center h-50px"},de={class:"flex-1 overflow-hidden p-12px"},_e={class:"bd-card-footer pl-12px pr-12px mb-12px flex items-center justify-between"},ue=re(()=>p("div",null,null,-1));function ce(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!Q(s)}const V=F({__name:"groupblacklist",setup(s){const j=G(),B=k([{prop:"avatar",label:"头像",align:"center",width:100,render:e=>{let o="";return e.row.uid&&(o=`${te.APP_URL}users/${e.row.uid}/avatar`),a(L,{src:o,size:54},{default:()=>[e.row.name]})}},{prop:"name",label:"用户昵称"},{prop:"uid",label:"用户ID"},{prop:"role",label:"操作者",render:e=>{let o="成员",d="primary";return(e==null?void 0:e.row.role)==1&&(o="群主",d="success"),(e==null?void 0:e.row.role)==2&&(o="管理员",d="warning"),a(z,{type:d},ce(o)?o:{default:()=>[o]})}},{prop:"remark",label:"备注"},{prop:"create_at",label:"拉入黑名单时间"}]),y=b([]),g=b(!1),w=b(0),n=k({keyword:"",page_size:15,page_index:1}),f=()=>{g.value=!0,ae(n,j.query.groupNo).then(e=>{g.value=!1,y.value=e.list,w.value=e.count})},D=e=>{n.page_size=e,f()},N=e=>{n.page_index=e,f()};return A(()=>{f()}),(e,o)=>{const d=i("el-input"),v=i("el-form-item"),I=i("el-button"),U=i("el-form"),$=i("i-bd-setting"),h=i("el-table-column"),O=i("el-table"),P=i("el-pagination"),T=E,q=M("loading");return u(),m(T,{class:"flex-col"},{default:l(()=>[p("div",ne,[p("div",le,[p("div",se,[p("p",ie,[a(r(z),{type:"primary"},{default:l(()=>[c(x(e.$route.query.name),1)]),_:1}),c(" 的黑名单成员 ")])]),p("div",pe,[a(U,{inline:""},{default:l(()=>[a(v,{class:"mb-0 !mr-16px"},{default:l(()=>[a(d,{modelValue:r(n).keyword,"onUpdate:modelValue":o[0]||(o[0]=t=>r(n).keyword=t),placeholder:"好友昵称/uid",clearable:""},null,8,["modelValue"])]),_:1}),a(v,{class:"mb-0 !mr-0"},{default:l(()=>[a(I,{type:"primary",onClick:f},{default:l(()=>[c("查询")]),_:1})]),_:1})]),_:1})])]),p("div",de,[R((u(),m(O,{data:r(y),border:!0,style:{width:"100%",height:"100%"}},{default:l(()=>[a(h,{type:"index",width:42,align:"center",fixed:"left"},{header:l(()=>[a($,{class:"cursor-pointer",size:"16"})]),_:1}),(u(!0),K(J,null,H(r(B),t=>(u(),m(h,Y(t,{key:t.prop}),{default:l(_=>[t.render?(u(),m(Z(t.render),{key:0,row:_.row},null,8,["row"])):t.formatter?C(e.$slots,t.prop,{key:1,row:_.row},()=>[c(x(t.formatter(_.row)),1)],!0):t.prop?C(e.$slots,t.prop,{key:2,row:_.row},()=>[c(x(_.row[t.prop]),1)],!0):ee("",!0)]),_:2},1040))),128))]),_:3},8,["data"])),[[q,r(g)]])]),p("div",_e,[ue,a(P,{"current-page":r(n).page_index,"onUpdate:currentPage":o[1]||(o[1]=t=>r(n).page_index=t),"page-size":r(n).page_size,"onUpdate:pageSize":o[2]||(o[2]=t=>r(n).page_size=t),"page-sizes":[15,20,30,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:r(w),onSizeChange:D,onCurrentChange:N},null,8,["current-page","page-size","total"])])])]),_:3})}}});typeof S=="function"&&S(V);const we=oe(V,[["__scopeId","data-v-d44df090"]]);export{we as default};
