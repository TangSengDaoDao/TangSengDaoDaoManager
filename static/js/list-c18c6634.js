import{_ as A}from"./index-ed788ec2.js";import{B as G,_ as M}from"./index-3da832da.js";import{d as O}from"./user-053075e3.js";import{e as T,r as y,l as o,aC as q,av as g,ak as d,aw as R,M as b,o as W,h as i,ay as H,i as _,j as f,w as n,a7 as s,u as a,af as J,a3 as K,ad as Q,a5 as X,aa as Y,ab as Z,az as ee,a4 as te,at as k,a8 as C,ah as oe}from"./vue-cc42d2bc.js";import{b as z}from"./route-block-83d24a4e.js";import"./axios-4fe91515.js";const D=c=>(Y("data-v-1a3c40bf"),c=c(),Z(),c),ae={class:"flex-1 el-card border-none flex-col box-border overflow-hidden"},re={class:"h-50px pl-12px pr-12px box-border flex items-center justify-between bd-title"},le=D(()=>s("div",{class:"bd-title-left"},[s("p",{class:"m-0 font-600"},"红包记录")],-1)),ne={class:"flex items-center h-50px"},se={class:"flex-1 overflow-hidden p-12px"},ie={class:"bd-card-footer pl-12px pr-12px mb-12px flex items-center justify-between"},pe=D(()=>s("div",null,null,-1)),S=T({__name:"list",setup(c){const B=y([{prop:"name",label:"用户名",fixed:"left",width:140},{prop:"phone",label:"手机号",fixed:"left",width:120},{prop:"avatar",label:"头像",align:"center",width:80,render:e=>{let l="";return e.row.uid&&(l=`${G.APP_URL}users/${e.row.uid}/avatar`),o(q,{src:l,size:54},{default:()=>[e.row.name]})}},{prop:"uid",label:"用户ID",minWidth:300},{prop:"short_no",label:"悟空号"},{prop:"sex",label:"性别",width:60,formatter(e){return e.sex===1?"男":"女"}},{prop:"register_time",label:"注册时间",width:170},{prop:"last_online_time",label:"封禁日期",width:150},{prop:"operation",label:"操作",align:"center",fixed:"right",width:180,render:e=>o(R,null,{default:()=>[o(g,{type:"primary",onClick:()=>I(e.row)},{default:()=>[d("发消息")]}),o(g,null,{default:()=>[d("更多")]})]})}]),h=b([]),m=b(!1),w=b(0),r=y({keyword:"",page_size:15,page_index:1}),u=()=>{m.value=!0,O(r).then(e=>{m.value=!1,h.value=e.list,w.value=e.count})},U=e=>{r.page_size=e,u()},V=e=>{r.page_index=e,u()},I=e=>{console.log(e)};return W(()=>{u()}),(e,l)=>{const F=i("el-input"),x=i("el-form-item"),N=i("el-form"),j=i("i-bd-setting"),v=i("el-table-column"),E=i("el-table"),L=i("el-pagination"),P=A,$=H("loading");return _(),f(P,{class:"flex-col"},{default:n(()=>[s("div",ae,[s("div",re,[le,s("div",ne,[o(N,{inline:""},{default:n(()=>[o(x,{class:"mb-0 !mr-16px"},{default:n(()=>[o(F,{modelValue:a(r).keyword,"onUpdate:modelValue":l[0]||(l[0]=t=>a(r).keyword=t),placeholder:"uid/手机号/用户名",clearable:""},null,8,["modelValue"])]),_:1}),o(x,{class:"mb-0 !mr-0"},{default:n(()=>[o(a(g),{type:"primary",onClick:u},{default:n(()=>[d("查询")]),_:1})]),_:1})]),_:1})])]),s("div",se,[J((_(),f(E,{data:a(h),border:!0,style:{width:"100%",height:"100%"}},{default:n(()=>[o(v,{type:"index",width:42,align:"center",fixed:"left"},{header:n(()=>[o(j,{class:"cursor-pointer",size:"16"})]),_:1}),(_(!0),K(X,null,Q(a(B),t=>(_(),f(v,ee(t,{key:t.prop}),{default:n(p=>[t.render?(_(),f(te(t.render),{key:0,row:p.row},null,8,["row"])):t.formatter?k(e.$slots,t.prop,{key:1,row:p.row},()=>[d(C(t.formatter(p.row)),1)],!0):t.prop?k(e.$slots,t.prop,{key:2,row:p.row},()=>[d(C(p.row[t.prop]),1)],!0):oe("",!0)]),_:2},1040))),128))]),_:3},8,["data"])),[[$,a(m)]])]),s("div",ie,[pe,o(L,{"current-page":a(r).page_index,"onUpdate:currentPage":l[1]||(l[1]=t=>a(r).page_index=t),"page-size":a(r).page_size,"onUpdate:pageSize":l[2]||(l[2]=t=>a(r).page_size=t),"page-sizes":[15,20,30,50,100],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:a(w),onSizeChange:U,onCurrentChange:V},null,8,["current-page","page-size","total"])])])]),_:3})}}});typeof z=="function"&&z(S);const ge=M(S,[["__scopeId","data-v-1a3c40bf"]]);export{ge as default};
