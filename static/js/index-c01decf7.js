import{e as P,ac as R,M as f,r as w,h as n,i as j,a3 as N,a7 as r,l as e,w as t,a8 as z,u as s,aA as A,J as M,ak as y,E as b}from"./vue-cc42d2bc.js";import{b as O,B as S,H as q}from"./index-3da832da.js";import{a as D}from"./axios-4fe91515.js";import{b as k}from"./route-block-83d24a4e.js";function F(m){return D({url:"/manager/login",method:"post",data:m})}const H={class:"h-screen w-full flex flex-1 flex-col justify-center items-center overflow-hidden"},K={class:"login-layout-container bg-[#fff] dark:bg-[#101014]"},$={class:"form-wrapper-content"},G={class:"login-main flex flex-col items-center justify-center px-6"},J={class:"flex justify-center mt-16px"},Q={class:"text-3xl app-text-fg-high mt-0 mb-24px",style:{"align-self":"flex-start","font-weight":"500"}},W={class:"flex justify-between"},X={class:"flex-initial"},Y=P({__name:"index",setup(m){const V=R(),g=O(),U=S.APP_TITLE,d=f(),i=w({username:"",password:""}),B=w({username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),_=f(!1),u=f(!1),x=async p=>{p&&(u.value=!0,await p.validate(o=>{o&&F(i).then(l=>{u.value=!1,g.setToken(l.token),g.setUserInfo(l),V.push(q),b.success("登录成功")}).catch(l=>{u.value=!1,l.status==400&&b.error(l.msg)})}))};return(p,o)=>{const l=n("i-bd-people"),h=n("el-icon"),v=n("el-input"),c=n("el-form-item"),C=n("i-bd-lock"),L=n("el-checkbox"),T=n("el-button"),E=n("el-form"),I=n("el-card");return j(),N("div",H,[r("div",K,[r("div",$,[r("div",G,[e(I,{class:"w-440px login-card","body-style":"padding: 48px;"},{default:t(()=>[r("div",J,[r("h3",Q,z(s(U)),1)]),e(E,{ref_key:"formRef",ref:d,model:s(i),rules:s(B),size:"large",autocomplete:"on"},{default:t(()=>[e(c,{prop:"username"},{default:t(()=>[e(v,{modelValue:s(i).username,"onUpdate:modelValue":o[0]||(o[0]=a=>s(i).username=a),placeholder:"请输入账号"},{prefix:t(()=>[e(h,{class:"el-input__icon"},{default:t(()=>[e(l,{theme:"outline",size:"24"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"password"},{default:t(()=>[e(v,{modelValue:s(i).password,"onUpdate:modelValue":o[1]||(o[1]=a=>s(i).password=a),type:"password",placeholder:"请输入密码","show-password":"",onKeyup:o[2]||(o[2]=A(a=>x(s(d)),["enter"]))},{prefix:t(()=>[e(h,{class:"el-input__icon"},{default:t(()=>[e(C,{theme:"outline",size:"24"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(c,null,{default:t(()=>[r("div",W,[r("div",X,[e(L,{modelValue:s(_),"onUpdate:modelValue":o[3]||(o[3]=a=>M(_)?_.value=a:null)},{default:t(()=>[y("自动登录")]),_:1},8,["modelValue"])])])]),_:1}),e(c,null,{default:t(()=>[e(T,{type:"primary",loading:s(u),class:"w-full",onClick:o[4]||(o[4]=a=>x(s(d)))},{default:t(()=>[y(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])]),_:1})])])])])}}});typeof k=="function"&&k(Y);export{Y as default};
