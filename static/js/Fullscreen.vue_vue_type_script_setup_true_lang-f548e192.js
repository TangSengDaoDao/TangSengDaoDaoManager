import{t as g,i as y,n as x,a as _}from"./index-07c6f0e4.js";import{f as p,M as C,U as q,X as z,o as A,e as B,i as h,a3 as R,j as D,u as k,a4 as L}from"./vue-cc42d2bc.js";function F(t){var u;const e=g(t);return(u=e==null?void 0:e.$el)!=null?u:e}const I=y?window:void 0,V=y?window.document:void 0;function S(...t){let u,e,s,l;if(typeof t[0]=="string"||Array.isArray(t[0])?([e,s,l]=t,u=I):[u,e,s,l]=t,!u)return x;Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]);const a=[],f=()=>{a.forEach(r=>r()),a.length=0},o=(r,d,v,i)=>(r.addEventListener(d,v,i),()=>r.removeEventListener(d,v,i)),c=q(()=>[F(u),g(l)],([r,d])=>{f(),r&&a.push(...e.flatMap(v=>s.map(i=>o(r,v,i,d))))},{immediate:!0,flush:"post"}),m=()=>{c(),f()};return _(m),m}function W(){const t=C(!1);return z()&&A(()=>{t.value=!0}),t}function j(t){const u=W();return p(()=>(u.value,!!t()))}const b=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function H(t,u={}){const{document:e=V,autoExit:s=!1}=u,l=p(()=>{var n;return(n=F(t))!=null?n:e==null?void 0:e.querySelector("html")}),a=C(!1),f=p(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(n=>e&&n in e||l.value&&n in l.value)),o=p(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(n=>e&&n in e||l.value&&n in l.value)),c=p(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(n=>e&&n in e||l.value&&n in l.value)),m=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(n=>e&&n in e),r=j(()=>l.value&&e&&f.value!==void 0&&o.value!==void 0&&c.value!==void 0),d=()=>m?(e==null?void 0:e[m])===l.value:!1,v=()=>{if(c.value){if(e&&e[c.value]!=null)return e[c.value];{const n=l.value;if((n==null?void 0:n[c.value])!=null)return!!n[c.value]}}return!1};async function i(){if(r.value){if(o.value)if((e==null?void 0:e[o.value])!=null)await e[o.value]();else{const n=l.value;(n==null?void 0:n[o.value])!=null&&await n[o.value]()}a.value=!1}}async function w(){if(!r.value)return;v()&&await i();const n=l.value;f.value&&(n==null?void 0:n[f.value])!=null&&(await n[f.value](),a.value=!0)}async function M(){await(a.value?i():w())}const E=()=>{const n=v();(!n||n&&d())&&(a.value=n)};return S(e,b,E,!1),S(()=>F(l),b,E,!1),s&&_(i),{isSupported:r,isFullscreen:a,enter:w,exit:i,toggle:M}}const O={class:"fullscreen line-height-none cursor-pointer"},$=B({__name:"Fullscreen",setup(t){const{toggle:u,isFullscreen:e}=H();return(s,l)=>(h(),R("div",O,[(h(),D(L(k(e)?"i-bd-off-screen-one":"i-bd-full-screen-one"),{theme:"outline",size:"20",onClick:k(u)},null,8,["onClick"]))]))}});export{$ as _};
